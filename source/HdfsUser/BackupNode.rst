Backup Node
============

Узел резервного копирования Backup обеспечивает ту же функциональность контрольных точек, что и узел Checkpoint, а также поддерживает в памяти обновленную копию пространства имен файловой системы, которая всегда синхронизируется с активным состоянием NameNode. Наряду с принятием потока изменений файловой системы журнала из NameNode и сохранением его на диске, Backup Node также применяет эти изменения к своей собственной копии пространства имен в памяти, создавая таким образом резервную копию пространства имен.

Узлу резервного копирования не нужно загружать fsimage и редактировать файлы с активного NameNode для создания контрольной точки, как это требуется для Checkpoint Node или Secondary NameNode, поскольку Backup Node уже имеет актуальный статус состояния пространства имен в памяти. Процесс создания контрольной точки Backup узла является более эффективным, поскольку ему нужно только сохранить пространство имен в локальном файле fsimage и сбросить изменения.

Поскольку резервный узел поддерживает копию пространства имен в памяти, его требования к RAM такие же, как и у узла NameNode.

.. important:: NameNode поддерживает один Backup Node. Узлы Checkpoint не могут быть зарегистрированы, если используется Backup

Backup Node настраивается так же, как узел Checkpoint, начиная с ``bin/hdfs namenode -backup``.

Расположение узла Backup (или Checkpoint) и его веб-интерфейса настраивается с помощью переменных конфигурации *dfs.namenode.backup.address* и *dfs.namenode.backup.http-address*.

Использование узла Backup обеспечивает возможность запуска NameNode без постоянного хранилища, делегируя всю ответственность за сохранение состояния пространства имен узлу Backup. Для этого необходимо запустить NameNode с параметром ``-importCheckpoint``, а также не указывать постоянные каталоги хранения типа edits *dfs.namenode.edits.dir* в конфигурации NameNode.

Пример использования приведен в главе :ref:`Checkpoint Node <usage_checkpoint>`.

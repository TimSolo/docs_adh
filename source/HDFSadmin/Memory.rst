Память как хранилище (техническое превью)
-----------------------------------------

В данной главе описывается как использовать память **DataNode** в качестве хранилища в **HDFS**.

.. important:: Данная возможноть представлена как технический обзор и рассмотрена в рамках развития. Не используйте ее в производственных системах. Если у вас есть вопросы относительно этой особенности, обратитесь в службу поддержки



Введение
^^^^^^^^

**HDFS** поддерживает эффективную запись больших наборов данных в надежное хранилище, а также обеспечивает безотказный доступ к данным. Это хорошо работает для пакетных заданий, записывающих большое количество данных.

Новые классы приложений управляют вариантами использования для записи меньшего количества временных данных. При использовании памяти **DataNode** в качестве хранилища адресов вариантов использования приложений, записывается относительно небольшое количество промежуточных наборов данных с низкой задержкой.

Запись данных блока в память снижает надежность, поскольку данные могут быть потеряны из-за перезагрузки процесса до их сохранения на диск. При этом **HDFS** пытается своевременно сохранить копии данных на диск, чтобы уменьшить риск потери данных.

Память **DataNode** указывается при использовании типа хранения *RAM_DISK* и политики хранения *LAZY_PERSIST*.

Для использования памяти **DataNode** в качестве хранилища **HDFS** необходимо выполнить следующие шаги:

+ Выключить DataNode;
+ Установить часть памяти DataNode для использования HDFS;
+ Назначить DataNode тип хранения *RAM_DISK* и включить режим локального чтения данных;
+ Установить политику хранения *LAZY_PERSIST* в файлах и каталогах HDFS, которые будут использовать память в качестве хранилища;
+ Перезапустить DataNode.

При обновлении параметра политики хранения в файле или каталоге, необходимо использовать инструмент переноса данных **HDFS** *mover* для фактического перемещения блоков (как указано в новой политике хранения).

Память как хранилище представляет собой один из аспектов возможностей управления ресурсами **YARN**, который включает **CPU scheduling**, **CGroups**, **node labels** и архивное хранилище.



Типы хранилища HDFS
^^^^^^^^^^^^^^^^^^^

Типы хранилища **HDFS** могут использоваться для назначения данных для различных типов физических носителей информации. Доступны следующие типы хранилища:

+ DISK - дисковое хранилище (тип хранения по умолчанию);
+ ARCHIVE - архивное хранилище (высокая плотность хранения, низкий ресурс обработки);
+ SSD - твердотельный накопитель;
+ RAM_DISK - память DataNode.

Если тип хранилища не назначен, по умолчанию используется тип *DISK*.



Политика хранения LAZY_PERSIST
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^


















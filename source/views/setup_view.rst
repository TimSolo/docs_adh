Настройка HDFS для представления Hive
-------------------------------------

Для корректной работы Hive View необходимо настроить "домашний" каталог в HDFS

Hive View хранит метаданные пользователя в HDFS. По умолчанию для HDFS   используется / user / $ {username}, где $ {username} - это имя пользователя, вошедшего в данный момент в систему и получающего доступ к представлению Hive.

.. important:: Поскольку многие пользователи используют  по умолчанию администратора Ambari для начала работы с кластером, необходимо создать папку / user / admin в HDFS, прежде чем использовать представление Hive.

Чтобы создать пользовательские каталоги в HDFS, для каждого пользователя Hive View:

+ Подключитесь к хосту в кластере, который включает в себя клиент HDFS.
+ Переключитесь на пользователя системной учетной записи hdfs.

  :command:`su - hdfs`
  
+ Используя клиент HDFS, создайте каталог HDFS для пользователя. Например, если ваше имя пользователя - admin, вы должны создать следующий каталог.

  :command:`hadoop fs -mkdir /user/admin`

+ Установите права на вновь созданный каталог. Например, если ваше имя пользователя - admin, сделаете этого пользователя владельцем каталога.

  :command:`hadoop fs -chown admin:hadoop /user/admin`

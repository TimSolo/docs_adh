Настройка HDFS для Hive View
----------------------------

Hive View хранит метаданные пользователя в HDFS, по умолчанию используется ``/user/${username}``, где ``${username}`` это имя пользователя, вошедшего в данный момент в систему и получающего доступ к представлению Hive. Для корректной работы Hive View необходимо настроить домашний каталог этого пользователя в HDFS.

.. important:: Поскольку многие пользователи используют по умолчанию администратора Ambari для начала работы с кластером, необходимо создать папку ``/user/admin`` в HDFS, прежде чем использовать представление Hive.

Чтобы создать пользовательские каталоги в HDFS, для каждого пользователя Hive View:

+ подключитесь к хосту в кластере, который включает в себя клиент HDFS;
+ переключитесь на пользователя системной учетной записи hdfs:

.. code-block:: sh

   su - hdfs

+ используя клиент HDFS, создайте каталог HDFS для пользователя. Например, если имя Вашего пользователя admin, то создайте каталог следующим образом:

.. code-block:: sh

   hadoop fs -mkdir /user/admin

+ установите права на вновь созданный каталог. Например, если имя Вашего пользователя admin, то сделаете этого пользователя владельцем каталога:

.. code-block:: sh

   hadoop fs -chown admin:hadoop /user/admin

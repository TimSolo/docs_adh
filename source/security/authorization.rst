Настройка авторизации в Hadoop
------------------------------

+ `Установка Ranger с помощью Ambari`_
+ `Создание политики HDFS`_


Установка Ranger с помощью Ambari
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

**Apache Ranger** можно установить при помощи пользовательского интерфейса **Ambari** или вручную, используя платформу **Arenadata Hadoop**. В отличие от ручного процесса установки, требующего выполнения ряда шагов, установка **Ranger** с использованием интерфейса **Ambari** проще и легче. Опция службы **Ranger** доступна через мастер **Add Service** после инсталляции кластера **ADH** с помощью установщика.

После установки и настройки **Ambari** можно использовать мастер добавления служб для установки следующих компонентов:

+ Ranger Admin
+ Ranger UserSync
+ Ranger Key Management Service

После установки и запуска этих компонентов можно включить плагины **Ranger**, перейдя к каждому отдельному сервису **Ranger** (**HDFS**, **HBase**, **Hiveserver2**, **Storm**, **Knox**, **YARN** и **Kafka**) и изменив конфигурацию в расширенном режиме *ranger-<service>-plugin-properties*.

.. important:: При включении плагина Ranger необходимо перезапустить компонент

.. important:: Включение Apache Storm или Apace Kafka требует включения Kerberos

.. important:: При обновлении ADH (на Ambari 2.5.0) установка Ranger DB выполняется при первом запуске Ranger (в предыдущих версиях настройка Ranger DB выполнялась во время установки). Это означает, что Ranger при первом запуске может занять больше времени, чем раньше (последующие перезагрузки будут такими же быстрыми, как и раньше)



Создание политики HDFS
^^^^^^^^^^^^^^^^^^^^^^



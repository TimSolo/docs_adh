Интерфейс Apache Zeppelin
==========================

+ `Главная страница`_
+ `Меню`_
+ `Набор инструментов`_


Главная страница
-----------------

При первом обращении к серверу **Zeppelin** открывается главная страница, представленная на :numref:`Рис.%s.<zeppelin_ui_main-home>`

.. _zeppelin_ui_main-home:

.. figure:: ../../imgs/zeppelin_ui_main-home.*
   :align: center

   Главная страница Apache Zeppelin


В левой части страницы перечислены все существующие блокноты. По умолчанию блокноты сохраняются в папке *$ZEPPELIN_HOME/notebook*. 

Есть возможность фильтровать блокноты по имени, используя форму ввода текста. Также можно создавать новые, обновлять список существующих блокнотов (в случае если они вручную скопированы в папку *$ZEPPELIN_HOME/notebook*) и импортировать их.

При нажатии кнопки "Import Note" открывается новое диалоговое окно (:numref:`Рис.%s.<zeppelin_ui_import-note>`). Блокнот можно импортировать с локального диска или из удаленного места по указанному URL-адресу. По умолчанию название импортируемого блокнота остается оригинальным, но при желании его можно изменить.

.. _zeppelin_ui_import-note:

.. figure:: ../../imgs/zeppelin_ui_import-note.*
   :align: center

   Импорт новой заметки


Меню
-------

Панель меню "Notebook" предлагает почти те же функции, что и раздел управления блокнотами на главной странице (:numref:`Рис.%s.<zeppelin_ui_main-home>`). В раскрывающемся контекстном меню можно выбрать (:numref:`Рис.%s.<zeppelin_ui_notebook>`):

+ Открыть выбранный блокнот;
+ Фильтр блокнотов по имени;
+ Создать новый блокнот.


.. _zeppelin_ui_notebook:

.. figure:: ../../imgs/zeppelin_ui_notebook.*
   :align: center

   Панель меню Notebook


Меню настроек дает доступ к конфигурации и отображает информацию о **Zeppelin** (:numref:`Рис.%s.<zeppelin_ui_settings>`). При использовании настроек по умолчанию имя пользователя задается как *anonymous*. Настройка аутентификации описана в разделе `Аутентификация Apache Shiro для Apache Zeppelin <http://docs.arenadata.io/adh/v1.4/Zeppelin/Authentication.html>`_.

.. _zeppelin_ui_settings:

.. figure:: ../../imgs/zeppelin_ui_settings.*
   :align: center

   Меню настроек


По ссылке "About Zeppelin" (см. :numref:`Рис.%s.<zeppelin_ui_settings>`) можно получить информацию об установленной версии **Apache Zeppelin** (:numref:`Рис.%s.<zeppelin_ui_about>`).

.. _zeppelin_ui_about:

.. figure:: ../../imgs/zeppelin_ui_about.*
   :align: center

   About Zeppelin


Перейдя по ссылке "Interpreter" (см. :numref:`Рис.%s.<zeppelin_ui_settings>`), можно выполнить следующие функции (:numref:`Рис.%s.<zeppelin_ui_interpreters>`):

+ Настроить существующий интерпретатор;
+ Добавить/удалить интерпретатор.


.. _zeppelin_ui_interpreters:

.. figure:: ../../imgs/zeppelin_ui_interpreters.*
   :align: center

   Управление интерпретаторами


Ссылка "Credential" (см. :numref:`Рис.%s.<zeppelin_ui_settings>`) позволяет для источников данных сохранять учетные данные, которые передаются интерпретаторам (:numref:`Рис.%s.<zeppelin_ui_credentials>`).


.. _zeppelin_ui_credentials:

.. figure:: ../../imgs/zeppelin_ui_credentials.*
   :align: center

   Учетные данные


Ссылка "Configuration" (см. :numref:`Рис.%s.<zeppelin_ui_settings>`) отображает все настройки **Apache Zeppelin**, которые заданы в файле конфигурации *$ZEPPELIN_HOME/conf/zeppelin-site.xml* (:numref:`Рис.%s.<zeppelin_ui_configurations>`).


.. _zeppelin_ui_configurations:

.. figure:: ../../imgs/zeppelin_ui_configurations.*
   :align: center

   Конфигурация Apache Zeppelin



Набор инструментов
-------------------

Каждый блокнот **Apache Zeppelin** состоит из нескольких параграфов (:numref:`Рис.%s.<zeppelin_ui_layout>`). Блокнот можно рассматривать как контейнер параграфов.


.. _zeppelin_ui_layout:

.. figure:: ../../imgs/zeppelin_ui_layout.*
   :align: center

   Шаблон блокнота 

Каждый параграф состоит из двух разделов: *code section*, в который помещается исходный код, и *result section*, где можно увидеть результат выполнения кода (:numref:`Рис.%s.<zeppelin_ui_paragraph>`).


.. _zeppelin_ui_paragraph:

.. figure:: ../../imgs/zeppelin_ui_paragraph.*
   :align: center

   Разделы параграфа

В правом верхнем углу каждого параграфа есть несколько команд:

+ Выполнить код параграфа;
+ Скрыть/показать *code section*;
+ Скрыть/показать *result section*;
+ Настроить параграф.

Для перехода к настройкам параграфа необходимо нажать на значок шестеренки, при этом открывается контекстное меню (:numref:`Рис.%s.<zeppelin_ui_configure-paragraph>`).


.. _zeppelin_ui_configure-paragraph:

.. figure:: ../../imgs/zeppelin_ui_configure-paragraph.*
   :align: center

   Контекстное меню настроек параграфа


В диалоговом окне отображается следующая информация и возможные действия:

+ Идентификатор параграфа (в данном примере *20150924-163507_134879501*);
+ Ширина параграфа. Поскольку Zeppelin использует сетчатую систему Twitter Bootstrap, ширина каждого параграфа может быть изменена от *1* до *12*;
+ Переместить параграф на 1 уровень вверх;
+ Переместить параграф на 1 уровень вниз;
+ Создать новый параграф;
+ Изменить название параграфа;
+ Показать/скрыть номера строк в *code section*;
+ Отключить кнопку запуска для параграфа;
+ Экспортировать текущий параграф как *iframe* и открыть *iframe* в новом окне;
+ Очистить *result section*;
+ Удалить текущий параграф.


Панель инструментов блокнота
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

В верхней части экранной формы блокнота **Apache Zeppelin** находится панель инструментов, которая представляет собой командные кнопки настройки, безопасности и отображения (см. :numref:`Рис.%s.<zeppelin_ui_layout>`).

В левом углу панели инструментов отображается название блокнота, необходимо нажать на него, чтобы открыть форму ввода и обновить его. По центру панели находятся следующие кнопки:

+ Выполнить все параграфы последовательно в порядке их отображения;
+ Скрыть/показать *code section* всех параграфов;
+ Скрыть/показать *result section* всех параграфов;
+ Очистить *result section* всех параграфов;
+ Копировать текущий блокнот;
+ Экспортировать текущий блокнот в файл *JSON*. При этом *code section* и *result section* всех параграфов будут экспортированы. При наличии тяжелых данных в *result section*, рекомендуется их очистить перед экспортом;
+ Зафиксировать текущее содержимое блокнота;
+ Удалить блокнот;
+ Запланировать выполнение всех параграфов, используя синтаксис *CRON*.

Справа от панели инструментов блокнота располагаются кнопки конфигурации:

+ Отобразить все сочетания клавиш клавиатуры;
+ Настроить интерпретаторы, привязанные к текущему блокноту;
+ Настроить права для блокнота;
+ Переключить режим отображения блокнота на *default*, *simple* или *report*.


Hadoop: YARN Federation
========================

Известно, что **YARN** масштабируется до тысяч узлов. Масштабируемость **YARN** определяется **Resource Manager**, и она пропорциональна количеству узлов, активных приложений и контейнеров, а так же частоте heartbeat-сообщений (как узлов, так и приложений). Снижение heartbeat-сообщений может обеспечить увеличение масштабируемости, однако это отрицательно сказывается на использовании. В данной главе описан подход на основе Federation для масштабирования одного кластера **YARN** до десятков тысяч узлов путем интеграции нескольких подкластеров **YARN**. Предлагаемый метод заключается в разделении большого кластера (10-100 тысяч узлов) на более мелкие блоки, называемые подкластерами, каждый из которых имеет свой собственный **YARN Resource Manager** и вычислительные узлы. Система Federation объединяет эти подкластеры и делает их одним большим кластером **YARN** для приложений. Приложения при этом видят один массивный кластер **YARN** и могут планировать задачи на любом его узле, в то время как в рамках системы Federation ведутся переговоры с **Resource Manager** подкластеров для предоставления ресурсов приложению. Цель состоит в том, чтобы позволить отдельной задаче бесшовно "охватить" подкластеры.





Архитектура
--------------


YARN Sub-cluster
^^^^^^^^^^^^^^^^^^


Router
^^^^^^^


AMRMProxy
^^^^^^^^^^^


Global Policy Generator
^^^^^^^^^^^^^^^^^^^^^^^^


Federation State-Store
^^^^^^^^^^^^^^^^^^^^^^^^


**Sub-cluster Membership**

**Application’s Home Sub-cluster**


Federation Policy Store
^^^^^^^^^^^^^^^^^^^^^^^^


Running Applications across Sub-Clusters
------------------------------------------


Configuration
---------------


EVERYWHERE:
^^^^^^^^^^^^

**State-Store:**


**Optional:**


ON RMs:
^^^^^^^^


ON ROUTER:
^^^^^^^^^^^


ON NMs:
^^^^^^^^


Running a Sample Job
----------------------

